---
registry_secret:
  name: registrypullsecret
  data: ""

pantryTrackerBackend:
  name: backend
  replicaCount: 1
  annotations: {}
  resources:
    limits:
      memory: 256Mi
      cpu: 200m
    requests:
      memory: 128Mi
      cpu: 100m
  image:
    repository: ghcr.io/alexdenisova/pantry-tracker-backend
    pullPolicy: IfNotPresent
    tag: ""
  livenessPath: &livenessPath /health
  readinessPath: *livenessPath
  command:
    - pantry-tracker
    - run
  port: 8080
  configMapValues:
    APP__SOCKET: 0.0.0.0:8080
    APP__DEBUG: "true"
  secretValues:
    APP__DATABASE_URL: ""
    APP__REDIS_URL: ""

backendIngress:
  enabled: true
  host: &host "pantry-tracker.com"
  className: &ingress_class "ingress-nginx"
  tls:
    secretName: pantry-tracker-tls
    key: ""
    certificate: ""
  backendRootPath: /api

pantryTrackerFrontend:
  name: frontend
  replicaCount: 1
  annotations: {}
  resources:
    limits:
      memory: 128Mi
      cpu: 100m
    requests:
      memory: 64Mi
      cpu: 50m
  image:
    repository: ghcr.io/alexdenisova/pantry-tracker-frontend
    pullPolicy: IfNotPresent
    tag: ""
  port: 5137

frontendIngress:
  enabled: true
  host: *host
  className: *ingress_class
  tls:
    secretName: pantry-tracker-tls
    key: ""
    certificate: ""

ingress:
  enabled: true
  host: "pantry-tracker.alexdenisova.ru"
  dev_host: "pantry-tracker.com"
  className: "ingress-nginx"
  tls:
    secretName: pantry-tracker-tls
    key: ""
    certificate: ""

postgresMigrations:
  name: postgres-migrations
  command:
    - pantry-tracker
    - migrate
